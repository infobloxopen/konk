apiVersion: konk.infoblox.com/v1alpha1
kind: KonkService
metadata:
  name: {{ include "example-apiserver.fullname" . }}-api
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "example-apiserver.labels" . | nindent 4 }}
spec:
  konk:
    name: {{ .Values.konk.name }}
  service:
    name: {{ include "example-apiserver.fullname" . }}
  group:
    name: example.infoblox.com
    kinds:
    - Contact
    verbs:
    - create
    - delete
    - get
    - watch
    - patch
    - list
    - update
  version: v1alpha1
  insecureSkipTLSVerify: {{ .Values.konkservice.insecureSkipTLSVerify }}
  crds: |
{{ (.Files.Glob "crds/*").AsConfig | indent 4 }}
